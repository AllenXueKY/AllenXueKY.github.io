<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">



<title>XML可扩展标记语言基础 | Allen Xue&#39;s Blog</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


</head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Allen Xue&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Allen Xue&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">XML可扩展标记语言基础</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Allen Xue</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">February 20, 2020&nbsp;&nbsp;23:01:27</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/category/JavaWeb/">JavaWeb</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h2 id="一、概念"><a href="#一、概念" class="headerlink" title="一、概念"></a>一、概念</h2><p>Extensible Markup Language 可扩展标记语言</p>
<ul>
<li><p>可扩展：标签都是自定义的。<code>&lt;user&gt; &lt;student&gt;</code></p>
</li>
<li><p>功能</p>
<ul>
<li>存储数据<ol>
<li>配置文件</li>
<li>在网络中传输</li>
</ol>
</li>
</ul>
</li>
<li><p>xml与html的区别</p>
<ol>
<li>xml标签都是自定义的，html标签是预定义。</li>
<li>xml的语法严格，html语法松散</li>
<li>xml是存储数据的，html是展示数据</li>
</ol>
</li>
<li><p>w3c:万维网联盟是XML的创造者</p>
</li>
</ul>
<h2 id="二、语法："><a href="#二、语法：" class="headerlink" title="二、语法："></a>二、语法：</h2><h3 id="1、基本语法"><a href="#1、基本语法" class="headerlink" title="1、基本语法"></a>1、基本语法</h3><ul>
<li>xml文档的后缀名 .xml</li>
<li>xml第一行必须定义为文档声明</li>
<li>xml文档中有且仅有一个根标签</li>
<li>属性值必须使用引号(单双都可)引起来</li>
<li>标签必须正确关闭</li>
<li>xml标签名称区分大小写</li>
</ul>
<h3 id="2、快速入门"><a href="#2、快速入门" class="headerlink" title="2、快速入门"></a>2、快速入门</h3><pre><code>&lt;?xml version=&apos;1.0&apos; ?&gt;
&lt;users&gt;
    &lt;user id=&apos;1&apos;&gt;
        &lt;name&gt;zhangsan&lt;/name&gt;
        &lt;age&gt;23&lt;/age&gt;
        &lt;gender&gt;male&lt;/gender&gt;
        &lt;br/&gt;
    &lt;/user&gt;

    &lt;user id=&apos;2&apos;&gt;
        &lt;name&gt;lisi&lt;/name&gt;
        &lt;age&gt;24&lt;/age&gt;
        &lt;gender&gt;female&lt;/gender&gt;
    &lt;/user&gt;
&lt;/users&gt;</code></pre><h3 id="3、组成部分"><a href="#3、组成部分" class="headerlink" title="3、组成部分"></a>3、组成部分</h3><p>(1)文档声明</p>
<ul>
<li>格式：<code>&lt;?xml 属性列表 ?&gt;</code></li>
<li>属性列表：<ul>
<li><code>version</code>：版本号，必须的属性</li>
<li><code>encoding</code>：编码方式。告知解析引擎当前文档使用的字符集，默认值：ISO-8859-1</li>
<li><code>standalone</code>：是否独立<ul>
<li>取值：<ul>
<li><code>yes</code>：不依赖其他文件</li>
<li><code>no</code>：依赖其他文件</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>(2)指令(了解)：结合css的<br><code>&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;a.css&quot; ?&gt;</code></p>
<p>(3)标签：标签名称自定义的</p>
<ul>
<li>规则：<ul>
<li>名称可以包含字母、数字以及其他的字符 </li>
<li>名称不能以数字或者标点符号开始 </li>
<li>名称不能以字母 xml（或者 XML、Xml 等等）开始 </li>
<li>名称不能包含空格 </li>
</ul>
</li>
</ul>
<p>(4)属性：id属性值唯一</p>
<p>(5)文本：</p>
<ul>
<li>CDATA区：在该区域中的数据会被原样展示<ul>
<li>格式：<code>&lt;![CDATA[ 数据 ]]&gt;</code></li>
</ul>
</li>
</ul>
<h3 id="4、约束"><a href="#4、约束" class="headerlink" title="4、约束"></a>4、约束</h3><p>规定xml文档的书写规则。</p>
<ul>
<li><p>作为框架的使用者(程序员)：</p>
<ol>
<li>能够在xml中引入约束文档</li>
<li>能够简单的读懂约束文档</li>
</ol>
</li>
<li><p>分类：</p>
<ol>
<li>DTD:一种简单的约束技术</li>
<li>Schema:一种复杂的约束技术</li>
</ol>
</li>
<li><p><strong>DTD</strong>：</p>
<ul>
<li>引入dtd文档到xml文档中<ul>
<li>内部dtd：将约束规则定义在xml文档中</li>
<li>外部dtd：将约束的规则定义在外部的dtd文件中<ul>
<li>本地：<code>&lt;!DOCTYPE 根标签名 SYSTEM &quot;dtd文件的位置&quot;&gt;</code></li>
<li>网络：<code>&lt;!DOCTYPE 根标签名 PUBLIC &quot;dtd文件名字&quot; &quot;dtd文件的位置URL&quot;&gt;</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Schema</strong>:</p>
<ul>
<li>引入：<br></li>
</ul>
<p>  1.填写xml文档的根元素<br><br>  2.引入xsi前缀. <br> <code>xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</code><br><br>  3.引入xsd文件命名空间.  <code>xsi:schemaLocation=&quot;http://www.itcast.cn/xml  student.xsd&quot;</code><br><br>  4.为每一个xsd约束声明一个前缀,作为标识  <code>xmlns=&quot;http://www.itcast.cn/xml&quot;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;students   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xmlns=&quot;http://www.itcast.cn/xml&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.itcast.cn/xml  student.xsd&quot;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><img src="/2020/02/20/XML可扩展标记语言基础/1.png" alt="image">    </p>
<h2 id="三、解析"><a href="#三、解析" class="headerlink" title="三、解析"></a>三、解析</h2><p>操作xml文档，将文档中的数据读取到内存中。</p>
<h3 id="1、操作xml文档"><a href="#1、操作xml文档" class="headerlink" title="1、操作xml文档"></a>1、操作xml文档</h3><p>(1)<strong>解析(读取)</strong>：将文档中的数据读取到内存中<br><br>(2)<strong>写入</strong>：将内存中的数据保存到xml文档中。持久化的存储</p>
<h3 id="2、解析xml的方式"><a href="#2、解析xml的方式" class="headerlink" title="2、解析xml的方式"></a>2、解析xml的方式</h3><p>(1)<strong>DOM</strong>：将标记语言文档一次性加载进内存，在内存中形成一颗dom树</p>
<pre><code>* 优点：操作方便，可以对文档进行CRUD的所有操作
* 缺点：占内存</code></pre><p>(2)<strong>SAX</strong>：逐行读取，基于事件驱动的。</p>
<pre><code>* 优点：不占内存。
* 缺点：只能读取，不能增删改</code></pre><h3 id="3、xml常见的解析器"><a href="#3、xml常见的解析器" class="headerlink" title="3、xml常见的解析器"></a>3、xml常见的解析器</h3><ul>
<li>JAXP：sun公司提供的解析器，支持dom和sax两种思想</li>
<li><strong>DOM4J</strong>：一款非常优秀的解析器</li>
<li><strong>Jsoup</strong>：jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。</li>
<li>PULL：Android操作系统内置的解析器，sax方式的。</li>
</ul>
<h2 id="五、Jsoup"><a href="#五、Jsoup" class="headerlink" title="五、Jsoup"></a>五、Jsoup</h2><p><strong>jsoup 是一款Java 的HTML解析器</strong>，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。</p>
<h3 id="1、快速入门"><a href="#1、快速入门" class="headerlink" title="1、快速入门"></a>1、快速入门</h3><pre><code>* 步骤：
    1. 导入jar包
    2. 获取Document对象
    3. 获取对应的标签Element对象
    4. 获取数据</code></pre><h3 id="2、代码"><a href="#2、代码" class="headerlink" title="2、代码"></a>2、代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> //2.1获取student.xml的path</span><br><span class="line">String path = JsoupDemo1.class.getClassLoader().getResource(&quot;student.xml&quot;).getPath();</span><br><span class="line">//2.2解析xml文档，加载文档进内存，获取dom树---&gt;Document</span><br><span class="line">Document document = Jsoup.parse(new File(path), &quot;utf-8&quot;);</span><br><span class="line">//3.获取元素对象 Element</span><br><span class="line">Elements elements = document.getElementsByTag(&quot;name&quot;);</span><br><span class="line"></span><br><span class="line">System.out.println(elements.size());</span><br><span class="line">//3.1获取第一个name的Element对象</span><br><span class="line">Element element = elements.get(0);</span><br><span class="line">//3.2获取数据</span><br><span class="line">String name = element.text();</span><br><span class="line">System.out.println(name);</span><br></pre></td></tr></table></figure>

<h3 id="3、对象的使用"><a href="#3、对象的使用" class="headerlink" title="3、对象的使用"></a>3、对象的使用</h3><p>(1)<strong>Jsoup</strong>：<strong>工具类，可以解析html或xml文档，返回Document</strong></p>
<ul>
<li><strong>parse</strong>：解析html或xml文档，返回Document<ul>
<li><code>parse(File in, String charsetName)</code>：解析xml或html文件的。</li>
<li><code>parse(String html)</code>：解析xml或html字符串</li>
<li><code>parse(URL url, int timeoutMillis)</code>：通过网络路径获取指定的html或xml的文档对象</li>
</ul>
</li>
</ul>
<p>(2)<strong>Document：文档对象。代表内存中的dom树</strong></p>
<ul>
<li>获取<strong>Element对象</strong><ul>
<li><code>getElementById(String id)</code>：根据id属性值获取唯一的element对象</li>
<li><code>getElementsByTag(String tagName)</code>：根据标签名称获取元素对象集合</li>
<li><code>getElementsByAttribute(String key)</code>：根据属性名称获取元素对象集合</li>
<li><code>getElementsByAttributeValue(String key, String value)</code>：根据对应的属性名和属性值获取元素对象集合</li>
</ul>
</li>
</ul>
<p>(3)<strong>Elements:元素Element对象的集合。可以当做 ArrayList<element>来使用</element></strong></p>
<p>(4)<strong>Element：元素对象</strong></p>
<ul>
<li><p>获取子元素对象</p>
<ul>
<li><code>getElementById(String id)</code>：根据id属性值获取唯一的element对象</li>
<li><code>getElementsByTag(String tagName)</code>：根据标签名称获取元素对象集合</li>
<li><code>getElementsByAttribute(String key)</code>：根据属性名称获取元素对象集合</li>
<li><code>getElementsByAttributeValue(String key, String value)</code>：根据对应的属性名和属性值获取元素对象集合</li>
</ul>
</li>
<li><p>获取属性值</p>
<ul>
<li><code>String attr(String key)</code>：根据属性名称获取属性值</li>
</ul>
</li>
<li><p>获取文本内容</p>
<ul>
<li><code>String text()</code>:获取文本内容</li>
<li><code>String html()</code>:获取标签体的所有内容(包括字标签的字符串内容)</li>
</ul>
</li>
</ul>
<p>(5)<strong>Node：节点对象</strong></p>
<p>是Document和Element的父类</p>
<h2 id="六、快捷查询方式"><a href="#六、快捷查询方式" class="headerlink" title="六、快捷查询方式"></a>六、快捷查询方式</h2><h3 id="1、selector"><a href="#1、selector" class="headerlink" title="1、selector"></a>1、selector</h3><p>选择器</p>
<ul>
<li>使用的方法：<code>Elements    select​(String cssQuery)</code><ul>
<li>语法：<a href="https://jsoup.org/apidocs/org/jsoup/select/Selector.html" target="_blank" rel="noopener">参考Selector类中定义的语法</a></li>
</ul>
</li>
</ul>
<h3 id="2、XPath"><a href="#2、XPath" class="headerlink" title="2、XPath"></a>2、XPath</h3><p><strong>XPath即为XML路径语言</strong>，它是一种用来确定XML（标准通用标记语言的子集）文档中某部分位置的语言</p>
<ul>
<li>使用Jsoup的Xpath需要额外导入jar包。</li>
<li><a href="https://www.w3cschool.cn/xpath/xpath-syntax.html" target="_blank" rel="noopener">查询w3cshool参考手册</a>，使用xpath的语法完成查询</li>
<li>示例代码：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">//1.获取student.xml的path</span><br><span class="line">String path = JsoupDemo6.class.getClassLoader().getResource(&quot;student.xml&quot;).getPath();</span><br><span class="line">//2.获取Document对象</span><br><span class="line">Document document = Jsoup.parse(new File(path), &quot;utf-8&quot;);</span><br><span class="line"></span><br><span class="line">//3.根据document对象，创建JXDocument对象</span><br><span class="line">JXDocument jxDocument = new JXDocument(document);</span><br><span class="line"></span><br><span class="line">//4.结合xpath语法查询</span><br><span class="line">//4.1查询所有student标签</span><br><span class="line">List&lt;JXNode&gt; jxNodes = jxDocument.selN(&quot;//student&quot;);</span><br><span class="line">for (JXNode jxNode : jxNodes) &#123;</span><br><span class="line">    System.out.println(jxNode);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(&quot;--------------------&quot;);</span><br><span class="line"></span><br><span class="line">//4.2查询所有student标签下的name标签</span><br><span class="line">List&lt;JXNode&gt; jxNodes2 = jxDocument.selN(&quot;//student/name&quot;);</span><br><span class="line">for (JXNode jxNode : jxNodes2) &#123;</span><br><span class="line">    System.out.println(jxNode);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(&quot;--------------------&quot;);</span><br><span class="line"></span><br><span class="line">//4.3查询student标签下带有id属性的name标签</span><br><span class="line">List&lt;JXNode&gt; jxNodes3 = jxDocument.selN(&quot;//student/name[@id]&quot;);</span><br><span class="line">for (JXNode jxNode : jxNodes3) &#123;</span><br><span class="line">    System.out.println(jxNode);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(&quot;--------------------&quot;);</span><br><span class="line">//4.4查询student标签下带有id属性的name标签 并且id属性值为itcast</span><br><span class="line"></span><br><span class="line">List&lt;JXNode&gt; jxNodes4 = jxDocument.selN(&quot;//student/name[@id=&apos;itcast&apos;]&quot;);</span><br><span class="line">for (JXNode jxNode : jxNodes4) &#123;</span><br><span class="line">    System.out.println(jxNode);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Allen Xue</span>
                    </p>
                
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span><strong>To be or not to be,that is a question.<strong></strong></strong></span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tag/JavaWeb/"># JavaWeb</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/02/21/Tomcat服务器基本操作/">Tomcat服务器基本操作</a>
            
            
            <a class="next" rel="next" href="/2020/02/20/BootStrap前端框架基础/">BootStrap前端框架基础</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Allen Xue | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
    
        <script type="text/javascript" color="0,0,0" opacity="0.3" zindex="-2" count="99" src="/js/canvas-nest.js"></script>
    
</body>
</html>
